## ç®€ä»‹

kindæ˜¯ä¸€ä¸ªä½¿ç”¨Dockerå®¹å™¨èŠ‚ç‚¹è¿è¡Œæœ¬åœ°Kubernetesé›†ç¾¤çš„å·¥å…·ï¼ˆCLIï¼‰

## å®‰è£…

ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¸‹è½½å’Œå®‰è£…kindäºŒè¿›åˆ¶æ–‡ä»¶ï¼š

```shell
go go install sigs.k8s.io/kind@v0.22.0
```

## ç¡®ä¿kindäºŒè¿›åˆ¶æ–‡ä»¶æ˜¯å­˜åœ¨çš„

```shell
kind version
kind v0.20.0 go1.20.4 linux/amd64
```

çŽ°åœ¨ï¼Œæˆ‘ä»¬åº”è¯¥èƒ½å¤Ÿä½¿ç”¨`kind` CLIæ¥å¯åŠ¨ä¸€ä¸ªKubernetesé›†ç¾¤ï¼š

```shell
Usage:
  kind [command]Available Commands:
  build       Build one of [node-image]
  completion  Output shell completion code for the specified shell
  create      Creates one of [cluster]
  delete      Deletes one of [cluster]
  export      Exports one of [kubeconfig, logs]
  get         Gets one of [clusters, nodes, kubeconfig]
  help        Help about any command
  load        Loads images into nodes
  version     Prints the kind CLI version
```

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†èšç„¦äºŽ`create`ã€`get`å’Œ`delete`å‘½ä»¤ã€‚

## åˆ›å»ºä¸€ä¸ªé›†ç¾¤

æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯åˆ›å»ºä¸€ä¸ªé›†ç¾¤ï¼š

```shell
kind create cluster

Creating cluster "kind" ...
 âœ“ Ensuring node image (kindest/node:v1.27.3) ðŸ–¼ 
 âœ“ Preparing nodes ðŸ“¦  
 âœ“ Writing configuration ðŸ“œ 
 âœ“ Starting control-plane ðŸ•¹ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ 
 âœ“ Installing CNI ðŸ”Œ 
 âœ“ Installing StorageClass ðŸ’¾ 
Set kubectl context to "kind-kind"
You can now use your cluster with:

kubectl cluster-info --context kind-kind

Have a question, bug, or feature request? Let us know! https://kind.sigs.k8s.io/#community ðŸ™‚
```

è¯¥å‘½ä»¤å°†é€šè¿‡æ‹‰å–æœ€æ–°çš„KubernetesèŠ‚ç‚¹ï¼ˆv 1.27.3ï¼‰æ¥åˆ›å»ºä¸€ä¸ªKubernetesé›†ç¾¤ã€‚åˆšåˆšæˆ‘ä»¬å·²ç»åˆ›å»ºäº†ä¸€ä¸ªv 1.27.3 çš„Kubernetesé›†ç¾¤ã€‚

åœ¨åˆ›å»ºé›†ç¾¤çš„è¿‡ç¨‹ä¸­å¦‚æžœæˆ‘ä»¬**æ²¡æœ‰`--name`å‚æ•°**ï¼Œé‚£ä¹ˆ**é›†ç¾¤åç§°å°†ä¼šé»˜è®¤è®¾ç½®ä¸º`kind`ã€‚**

## åˆ›å»ºç‰¹å®šç‰ˆæœ¬çš„K8Sé›†ç¾¤

æˆ‘ä»¬å¯ä»¥ä¼ `--image`å‚æ•°æ¥éƒ¨ç½²ä¸€ä¸ª**ç‰¹å®šç‰ˆæœ¬ï¼ˆæ²¡æœ‰æŒ‡å®šï¼Œå°±ä¼šé»˜è®¤ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„K8Sï¼‰**çš„Kubernetesé›†ç¾¤ã€‚

ä½¿ç”¨çš„å‘½ä»¤ä¸ºï¼š

```shell
kind create cluster --image kindest/node:v1.15.6
```

```shell
Creating cluster "kind" ...
 âœ“ Ensuring node image (kindest/node:v1.15.6) ðŸ–¼
 âœ“ Preparing nodes ðŸ“¦
 âœ“ Writing configuration ðŸ“œ
 âœ“ Starting control-plane ðŸ•¹ï¸
 âœ“ Installing CNI ðŸ”Œ
 âœ“ Installing StorageClass ðŸ’¾
Set kubectl context to "kind-kind"
You can now use your cluster with:kubectl cluster-info --context kind-kind Have a nice day! ðŸ‘‹
```

## åˆ—å‡ºéƒ¨ç½²çš„é›†ç¾¤

è¾“å…¥å‘½ä»¤ï¼š`kind get clusters`

```shell
> kind get clusters
kind
kind-1.15.6
```

è¿™åº”è¯¥åˆ—å‡ºæˆ‘ä»¬æ­¤å‰åˆ›å»ºçš„ä¸¤ä¸ªä¸åŒK8Sç‰ˆæœ¬çš„é›†ç¾¤ã€‚

## ä¸ºkubectlè®¾ç½®ä¸Šä¸‹æ–‡(æŒ‡å®šéœ€è¦ä½¿ç”¨çš„K8Sé›†ç¾¤)

åˆ›å»ºé›†ç¾¤ä¹‹åŽï¼Œkubectlä¼šæŒ‡å‡ºæœ€è¿‘åˆ›å»ºçš„K8Sé›†ç¾¤ã€‚

è®©æˆ‘ä»¬æ¥æ£€æŸ¥ä¸€ä¸‹æ‰€æœ‰å¯ç”¨çš„ä¸Šä¸‹æ–‡ã€‚

```shell
> kubectl config get-contexts
CURRENT   NAME                               CLUSTER                      
          kind-kind                          kind-kind            
*         kind-kind-1.15.6                   kind-kind-1.15.6
```

ä»Žè¾“å‡ºä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ç»“è®ºï¼Œ**kubectlä¸Šä¸‹æ–‡ç›®å‰å·²ç»è¢«è®¾ç½®ä¸ºæœ€æ–°çš„é›†ç¾¤ï¼Œå³kind-1.15.6**ã€‚ï¼ˆä¸Šä¸‹æ–‡åç§°æ˜¯ä»¥kindä¸ºå‰ç¼€çš„ï¼‰

**è¦å°†kubectlä¸Šä¸‹æ–‡è®¾ç½®ä¸ºç‰ˆæœ¬æ˜¯1.18.2çš„`kind`é›†ç¾¤**ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š

```shell
> kubectl config set-context kind-kind 
Context "kind-kind" modified.
```

è¦éªŒè¯kubectlæ˜¯å¦æŒ‡å‘æ­£ç¡®çš„é›†ç¾¤(**æ£€æŸ¥ç‰ˆæœ¬å·æ˜¯å¦æ­£ç¡®**)ï¼Œæˆ‘ä»¬éœ€è¦æ£€æŸ¥èŠ‚ç‚¹ï¼š

```shell
> kubectl get nodes
NAME                        STATUS   ROLES    AGE     VERSION
kind-1.18.2-control-plane   Ready    master   8m20s   v1.18.2
```

## åˆ é™¤æŸä¸ªé›†ç¾¤

è¦åˆ é™¤ä¸€ä¸ªç‰¹å®šçš„ç¾¤é›†ï¼Œå¯ä»¥åœ¨`--name`å‚æ•°ä¸­æŠŠé›†ç¾¤åç§°ä¼ é€’ç»™åˆ é™¤å‘½ä»¤ã€‚

å‘½ä»¤ä¸ºï¼š`kind delete cluster --name kind`

```sql
> kind delete cluster --name kind
Deleting cluster "kind" ...
```

## åˆ é™¤æ‰€æœ‰é›†ç¾¤

å¦‚æžœä½ æƒ³ä¸€æ¬¡æ€§åˆ é™¤æ‰€æœ‰é›†ç¾¤ï¼Œè¯·æ‰§è¡Œï¼š

```
kind delete clusters â€“all
> kind delete clusters --all
Deleted clusters: ["kind-1.15.6"]
```