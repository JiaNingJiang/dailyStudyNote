### 一、序列

所谓序列，指的是一块可存放多个值的连续内存空间，这些值按一定顺序排列，可通过每个值所在位置的编号（称为索引）访问它们。

在 [Python](http://c.biancheng.net/python/) 中，序列类型包括**字符串、列表、元组、集合和字典**，这些序列支持以下几种通用的操作，但比较特殊的是，集合和字典不支持索引、切片、相加和相乘操作。

#### 1.序列索引

序列中，每个元素都有属于自己的编号（索引）。从起始元素开始，索引值从 0 开始递增，如图 1 所示。

![img](http://c.biancheng.net/uploads/allimg/190705/2-1ZF5104015S0.gif)

<center> 图 1 序列索引值示意图 </center>

除此之外，**Python 还支持索引值是负数，此类索引是从右向左计数**，换句话说，从最后一个元素开始计数，从索引值 -1 开始，如图 2 所示。

![img](http://c.biancheng.net/uploads/allimg/200506/2-2005061011292T.gif)

<center> 图 2 负值索引示意图</center>

> 注意，在使用负值作为列序中各元素的索引值时，是从 -1 开始，而不是从 0 开始。

无论是采用正索引值，还是负索引值，都可以访问序列中的任何元素。以字符串为例，访问“C语言中文网”的首元素和尾元素，可以使用如下的代码：

```python
    str="C语言中文网"
    print(str[0],"==",str[-6])
    print(str[5],"==",str[-1])
```

输出结果为：

```python
C == C
网 == 网
```

#### 2.序列切片

切片操作是访问序列中元素的另一种方法，它可以访问一定范围内的元素，通过切片操作，可以生成一个新的序列。

 序列实现切片操作的语法格式如下：

```python
sname[start : end : step]
```

其中，各个参数的含义分别是：

- sname：表示序列的名称；
- start：表示切片的开始索引位置（**包括该位置**），此参数也可以不指定，会默认为 0，也就是从序列的开头进行切片；
- end：表示切片的结束索引位置（**不包括该位置**），如果不指定，则默认为序列的长度；
- step：表示在切片过程中，隔几个存储位置（包含当前位置）取一次元素，也就是说，如果 step 的值大于 1，则在进行切片去序列元素时，会“跳跃式”的取元素。**如果省略设置 step 的值，则最后一个冒号就可以省略。**

例如，对字符串“C语言中文网”进行切片：

```python
    str="C语言中文网"
    #取索引区间为[0,2]之间（不包括索引2处的字符）的字符串
    print(str[:2])
    #隔 1 个字符取一个字符，区间是整个字符串
    print(str[::2])
    #取整个字符串，此时 [] 中只需一个冒号即可
    print(str[:])
```

运行结果为：

```python
C语
C言文
C语言中文网
```

#### 3.序列相加

Python 中，支持**两种类型相同的序列**使用“+”运算符做相加操作，它会将两个序列进行连接，但不会去除重复的元素。

```python
这里所说的“类型相同”，指的是“+”运算符的两侧序列要么都是列表类型，要么都是元组类型，要么都是字符串。
```

#### 4.序列相乘

Python 中，使用数字 n 乘以一个序列会生成新的序列，其内容为原来序列被重复 n 次的结果。例如：

```python
    str="C语言中文网"
    print(str*3)
```

输出结果为：

```python
'C语言中文网C语言中文网C语言中文网'
```

比较特殊的是，**列表类型**在进行乘法运算时，还可以**实现初始化指定长度列表**的功能。例如如下的代码，将创建一个长度为 5 的列表，列表中的每个元素都是 None，表示什么都没有。

```python
    #列表的创建用 []，后续讲解列表时会详细介绍
    list = [None]*5
    print(list)
```

输出结果为：

```python
[None, None, None, None, None]
```

#### 5.检查元素是否包含在序列中

Python 中，可以使用 **in 关键字**检查某元素是否为序列的成员，其语法格式为：

```python
value in sequence
```

其中，value 表示要检查的元素，sequence 表示指定的序列。

例如，检查字符‘c’是否包含在字符串“c.biancheng.net”中，可以执行如下代码：

```python
    str="c.biancheng.net"
    print('c'in str)
```

运行结果为：

```python
True
```

和 in 关键字用法相同，但功能恰好相反的，还有 **not in 关键字**，它用来**检查某个元素是否不包含在指定的序列中**，比如说：

```python
    str="c.biancheng.net"
    print('c' not in str)
```

输出结果为：

```python
False
```

#### 6.和序列相关的内置函数

Python提供了几个内置函数（表 3 所示），可用于实现与序列相关的一些常用操作。

<center> 表 3 序列相关的内置函数</center>

| 函数        | 功能                                                         |
| ----------- | ------------------------------------------------------------ |
| len()       | 计算序列的长度，即返回序列中包含多少个元素。                 |
| max()       | 找出序列中的最大元素。注意，对序列使用 sum() 函数时，做加和操作的必须都是数字，不能是字符或字符串，否则该函数将抛出异常，因为解释器无法判定是要做连接操作（+ 运算符可以连接两个序列），还是做加和操作。 |
| min()       | 找出序列中的最小元素。                                       |
| list()      | 将序列转换为列表。                                           |
| str()       | 将序列转换为字符串。                                         |
| sum()       | 计算元素和。                                                 |
| sorted()    | 对元素进行排序。                                             |
| reversed()  | 反向序列中的元素。                                           |
| enumerate() | 将序列组合为一个索引序列，多用在 for 循环中。                |

这里给大家给几个例子：

```python
    str="c.biancheng.net"
    #找出最大的字符
    print(max(str))
    #找出最小的字符
    print(min(str))
    #对字符串中的元素进行排序
    print(sorted(str))
```

输出结果为：

```python
t
.
['.', '.', 'a', 'b', 'c', 'c', 'e', 'e', 'g', 'h', 'i', 'n', 'n', 'n', 't']
```

### 二、list列表

在实际开发中，经常需要将一组（不只一个）数据存储起来，以便后边的代码使用。这也是其他编程语言中广泛使用的数组(Array)担任的角色，它就可以把多个数据挨个存储到一起，通过数组下标可以访问数组中的每个元素。

需要明确的是，**[Python](http://c.biancheng.net/python/) 中没有数组，但是加入了更加强大的列表**。如果把数组看做是一个集装箱，那么 Python 的列表就是一个工厂的仓库。

从形式上看，列表会将所有元素都放在一对中括号`[ ]`里面，相邻元素之间用逗号`,`分隔，如下所示：

```python
[element1, element2, element3, ..., elementn]
```

格式中，element1 ~ elementn 表示列表中的元素，个数没有限制，只要是 Python 支持的数据类型就可以。

从内容上看，列表可以存储整数、小数、字符串、列表、元组等任何类型的数据，并且同一个列表中元素的类型也可以不同。比如说：

```python
["http://c.biancheng.net/python/", 1, [2,3,4] , 3.0]
```

可以看到，列表中同时包含字符串、整数、列表、浮点数这些数据类型。

> 注意，在使用列表时，虽然可以将不同类型的数据放入到同一个列表中，但通常情况下不这么做，同一列表中只放入同一类型的数据，这样可以提高程序的可读性。

另外，经常用 list 代指列表，这是因为列表的数据类型就是 list，通过 type() 函数就可以知道，例如：

```python
>>> type( ["http://c.biancheng.net/python/", 1, [2,3,4] , 3.0] )
<class 'list'>    #可以看到，它的数据类型为 list，就表示它是一个列表。
```

#### 1.Python创建列表

在 Python 中，创建列表的方法可分为两种，下面分别进行介绍。

##### 1) 使用 [ ] 直接创建列表

使用`[ ]`创建列表后，一般使用`=`将它赋值给某个变量，具体格式如下：

```py
listname = [element1 , element2 , element3 , ... , elementn]
```

其中，listname 表示变量名，element1 ~ elementn 表示列表元素。

例如，下面定义的列表都是合法的：

```python
    num = [1, 2, 3, 4, 5, 6, 7]
    name = ["C语言中文网", "http://c.biancheng.net"]
    program = ["C语言", "Python", "Java"]
```

另外，使用此方式创建列表时，列表中元素可以有多个，也可以一个都没有，例如：

```python
emptylist = [ ]   #这表明，emptylist 是一个空列表。
```

##### 2) 使用 list() 函数创建列表

除了使用`[ ]`创建列表外，Python 还提供了一个内置的函数 list()，使用它可以将其它数据类型转换为列表类型。例如：

```python
    #将字符串转换成列表
    list1 = list("hello")
    print(list1)
    #将元组转换成列表
    tuple1 = ('Python', 'Java', 'C++', 'JavaScript')
    list2 = list(tuple1)
    print(list2)
    #将字典转换成列表
    dict1 = {'a':100, 'b':42, 'c':9}
    list3 = list(dict1)
    print(list3)
    #将区间转换成列表
    range1 = range(1, 6)
    list4 = list(range1)
    print(list4)
    #创建空列表
    print(list())
```

运行结果：

```python
['h', 'e', 'l', 'l', 'o']
['Python', 'Java', 'C++', 'JavaScript']
['a', 'b', 'c']
[1, 2, 3, 4, 5]
[]
```

#### 2.访问列表元素

列表是 Python 序列的一种，我们可以使用索引（Index）访问列表中的某个元素（得到的是一个元素的值），也可以使用切片访问列表中的一组元素（得到的是一个新的子列表）。

使用索引访问列表元素的格式为：

```python
listname[i]  #listname 表示列表名字，i 表示索引值。列表的索引可以是正数，也可以是负数。
```

使用切片访问列表元素的格式为：

```python
listname[start : end : step]  #listname 表示列表名字，start 表示起始索引，end 表示结束索引，step 表示步长。
```

以上两种方式我们已在《[Python序列](http://c.biancheng.net/view/4312.html)》中进行了讲解，这里就不再赘述了，仅作示例演示，请看下面代码：

```python
    url = list("http://c.biancheng.net/shell/")
    #使用索引访问列表中的某个元素
    print(url[3])  #使用正数索引
    print(url[-4])  #使用负数索引
    #使用切片访问列表中的一组元素
    print(url[9: 18])  #使用正数切片
    print(url[9: 18: 3])  #指定步长
    print(url[-6: -1])  #使用负数切片
```

运行结果：

```python
p
e
['b', 'i', 'a', 'n', 'c', 'h', 'e', 'n', 'g']
['b', 'n', 'e']
['s', 'h', 'e', 'l', 'l']
```

#### 3.Python删除列表

对于已经创建的列表，如果不再使用，可以使用`del`关键字将其删除。

实际开发中并不经常使用 del 来删除列表，因为 Python 自带的垃圾回收机制会自动销毁无用的列表，即使开发者不手动删除，Python 也会自动将其回收。

del 关键字的语法格式为：

```python
del listname  #listname 表示要删除列表的名称。
```

Python 删除列表实例演示：

```python
    intlist = [1, 45, 8, 34]
    print(intlist)
    del intlist
    print(intlist)
```

运行结果：

```python
[1, 45, 8, 34]
Traceback (most recent call last):
    File "C:\Users\mozhiyan\Desktop\demo.py", line 4, in <module>
        print(intlist)
NameError: name 'intlist' is not defined
```

### 三、list列表添加元素

《[Python序列](http://c.biancheng.net/view/4312.html)》一节告诉我们，使用`+`运算符可以将多个序列连接起来；**列表是序列的一种，所以也可以使用`+`进行连接，这样就相当于在第一个列表的末尾添加了另一个列表。**

请看下面的演示：

```python
    language = ["Python", "C++", "Java"]
    birthday = [1991, 1998, 1995]
    info = language + birthday
    print("language =", language)
    print("birthday =", birthday)
    print("info =", info)
```

运行结果：

```py
language = ['Python', 'C++', 'Java']
birthday = [1991, 1998, 1995]
info = ['Python', 'C++', 'Java', 1991, 1998, 1995]
```

从运行结果可以发现，**使用`+`会生成一个新的列表，原有的列表不会被改变**。

 `+`更多的是用来拼接列表，而且**执行效率并不高**，如果想在列表中插入元素，应该使用下面几个专门的方法。

#### 1.Python append()方法添加元素

append() 方法用于在列表的末尾追加元素，该方法的语法格式如下：

```python
listname.append(obj) 
```

> listname 表示要添加元素的列表；obj 表示到添加到列表末尾的数据，它可以是单个元素，也可以是列表、元组等。

请看下面的演示：

```python
    l = ['Python', 'C++', 'Java']
    #追加元素
    l.append('PHP')
    print(l)
    #追加元组，整个元组被当成一个元素
    t = ('JavaScript', 'C#', 'Go')
    l.append(t)
    print(l)
    #追加列表，整个列表也被当成一个元素
    l.append(['Ruby', 'SQL'])
    print(l)
```

运行结果为：

```python
['Python', 'C++', 'Java', 'PHP']
['Python', 'C++', 'Java', 'PHP', ('JavaScript', 'C#', 'Go')]
['Python', 'C++', 'Java', 'PHP', ('JavaScript', 'C#', 'Go'), ['Ruby', 'SQL']]
```

可以看到，当给 append() 方法传递列表或者元组时，此方法会将它们**视为一个整体**，**作为一个元素添加到列表中**，从而形成包含列表和元组的新列表。

#### 2.Python extend()方法添加元素

extend() 和 append() 的不同之处在于：extend() 不会把列表或者元祖视为一个整体，而是把它们包含的**元素逐个添加**到列表中。

extend() 方法的语法格式如下：

```py
listname.extend(obj)
```

其中，listname 指的是要添加元素的列表；obj 表示到添加到列表末尾的数据，它可以是单个元素，也可以是列表、元组等，但不能是单个的数字。

请看下面的演示：

```python
    l = ['Python', 'C++', 'Java']
    #追加元素
    l.extend('C')
    print(l)
    #追加元组，元祖被拆分成多个元素
    t = ('JavaScript', 'C#', 'Go')
    l.extend(t)
    print(l)
    #追加列表，列表也被拆分成多个元素
    l.extend(['Ruby', 'SQL'])
    print(l)
```

运行结果：

```python
['Python', 'C++', 'Java', 'C']
['Python', 'C++', 'Java', 'C', 'JavaScript', 'C#', 'Go']
['Python', 'C++', 'Java', 'C', 'JavaScript', 'C#', 'Go', 'Ruby', 'SQL']
```

#### 3.Python insert()方法插入元素

append() 和 extend() 方法只能在

append() 和 extend() 方法只能在**列表末尾**插入元素，如果希望在**列表中间某个位置插入元素**，那么可以使用 **insert() 方法**。插入元素，如果希望在列表中间某个位置插入元素，那么可以使用 insert() 方法。

insert() 的语法格式如下：

```py
listname.insert(index , obj)
```

其中，index 表示指定位置的索引值。insert() 会将 obj 插入到 listname 列表第 index 个元素的位置。

**当插入列表或者元祖时，insert() 也会将它们视为一个整体**，作为一个元素插入到列表中，这一点和 append() 是一样的。

请看下面的演示代码：

```python
    l = ['Python', 'C++', 'Java']
    #插入元素
    l.insert(1, 'C')
    print(l)
    #插入元组，整个元祖被当成一个元素
    t = ('C#', 'Go')
    l.insert(2, t)
    print(l)
    #插入列表，整个列表被当成一个元素
    l.insert(3, ['Ruby', 'SQL'])
    print(l)
    #插入字符串，整个字符串被当成一个元素
    l.insert(0, "http://c.biancheng.net")
    print(l)
```

输出结果为：

```python
['Python', 'C', 'C++', 'Java']
['Python', 'C', ('C#', 'Go'), 'C++', 'Java']
['Python', 'C', ('C#', 'Go'), ['Ruby', 'SQL'], 'C++', 'Java']
['http://c.biancheng.net', 'Python', 'C', ('C#', 'Go'), ['Ruby', 'SQL'], 'C++', 'Java']
```

