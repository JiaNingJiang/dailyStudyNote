## 一、强关系表达式问题的求解

### 1. 斐波那契数列

我们知道斐波那契数列的求解关系表达式是固定的（也就是强关系表达式）：

F(0) = F(1) = 1 作为初始条件    F(N) = F(N-1) + F(N-2) (N>=2)

```
根据线性代数，对于强关系表达式可以化为以下求解方式：
						  |a  b|
|F(3) F(2)| = |F(1) F(0)|*|c  d|    // 因为 N 需要借助 N-1和N-2两个状态量，因此系数矩阵是 2*2

						  |a  b|
|F(4) F(3)| = |F(2) F(1)|*|c  d|

四个系数可以通过4个表达式求解：
a = b = c = 1 , d = 0

因此任意的：（系数矩阵直接用Factor表示）
|F(N) F(N-1)| = |F(2) F(1)| * Factor^(N-2)   //因此求解斐波那契数列问题，就变成了求系数矩阵的N-2次幂的问题
```



```
针对求解一个数的N次幂，可以用如下的方式：
假设要求10^73 == ? 可以将73拆分为2的幂的组成形式：73 = 64 + 8 + 1 
因此 10^73 = 10^64 + 10^8 + 10^1 
1）我们让 t 从10^1开始，t = 10^1 。因为存在于10^73组成公式中，因此sum+=10^1。
2）t = t * t ,因此t = 10^2 不在组成公式中(用73的二进制检查是否在组成公式中)，跳过
3) 重复，直到最大的 10^64

通过上述的方式，求解一个数的N次幂，时间复杂度就只是 O(logN) 级别，远远优于O(N)
```



## 2.类推

假设有一问题的强关系表达式为 :  F(N) = 3 * F(N-1) + 2 * F(N-3) + 5 * F(N-5)

那么求解的策略如下：

```
|F(6) F(5) F(4) F(3) F(2)| = |F(5) F(4) F(3) F(2) F(1)| * |5*5矩阵|
根据这样的列举，我们可以求出这个 5*5 矩阵

|F(N) F(N-1) F(N-2) F(N-3) F(N-4)| = |F(5) F(4) F(3) F(2) F(1)| * |5*5矩阵|^(N-5)
只需要获得 |5*5矩阵|^(N-5) 就可以得到任意的 F(N)
```



## 3.奶牛问题

假设有一个牧场，现在只有一头3岁的母牛。

通过人工授精的方式每年让所有年龄 >= 3的母牛生出一只新母牛。假设所有的牛都不会死。

求N年后牧场有多少只母牛？

```go
起始时，F(0) = 1  A
第一年：F(1) = 1+1 = 2  A B(A)
第二年：F(2) = 2+1 = 3  A B(A) C(A)
第三年：F(3) = 3+1 = 4  A B(A) C(A) D(A)
第四年：F(4) = 4+2 = 6  A B(A) C(A) D(A) E(A) F(B)   // B刚好三岁，可以生出新的母牛
……………………

计算公式 F(N) = F(N-1) + F(N-3)  // F(N-1)表示前一年剩余的牛都存活的数量  F(N-3)表示新生牛数量 == 三年前的牛的数量

|F(3) F(2) F(1)| = |F(2) F(1) F(0)| * |3*3矩阵|
求出这个 |3*3矩阵| 矩阵，假设为Factor

|F(N) F(N-1) F(N-2)| = |F(2) F(1) F(0)| * |3*3矩阵|^(N-2)
```



进阶：假设一只牛只能活10年，求N年后牧场有多少只奶牛？

```go
F(N) = F(N-1) + F(N-3) - F(N-10)   // 减去10年前的奶牛数即可
```

