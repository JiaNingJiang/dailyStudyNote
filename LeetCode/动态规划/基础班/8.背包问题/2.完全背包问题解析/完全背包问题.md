### 一、完全背包

有N件物品和一个最多能背重量为W的背包。第i件物品的重量是weight[i]，得到的价值是value[i] 。**每件物品都有无限个（也就是可以放入背包多次）**，求解将哪些物品装入背包里物品价值总和最大。

**完全背包和01背包问题唯一不同的地方就是，每种物品有无限件**。

在下面的讲解中，我依然举这个例子：

背包最大重量为4。

物品为：

|       | 重量 | 价值 |
| :---- | :--- | :--- |
| 物品0 | 1    | 15   |
| 物品1 | 3    | 20   |
| 物品2 | 4    | 30   |

**每件商品都有无限个！**

问背包能背的物品最大价值是多少？

### 二、如何解决

01背包和完全背包**唯一不同就是体现在遍历顺序上**，所以本文就不去做动规五部曲了，我们直接针对遍历顺序经行分析！

首先在回顾一下01背包的核心代码：

```go
for(int i = 0; i < weight.size(); i++) { // 遍历物品
    for(int j = bagWeight; j >= weight[i]; j--) { // 遍历背包容量(从大到小遍历)
        dp[j] = max(dp[j], dp[j - weight[i]] + value[i]);
    }
}
```

我们知道01背包**内嵌的循环**是**从大到小遍历**，为了**保证每个物品仅被添加一次**。

而**完全背包的物品是可以添加多次的**，所以要**从小到大去遍历**，即：

```go
// 先遍历物品，再遍历背包
for(int i = 0; i < weight.size(); i++) { // 遍历物品
    for(int j = weight[i]; j < bagWeight ; j++) { // 遍历背包容量(从小到大遍历)
        dp[j] = max(dp[j], dp[j - weight[i]] + value[i]);

    }
}
```

### 三、先循环物品，还是先循环背包？

针对这个问题，需要将**完全背包分为两大类**：

- 纯完全背包问题。也就是说求解的是：背包指定容量时的最大价值。
- 非纯完全背包问题。已经给定了最大价值，求的是通过指定物品组成这个最大价值的方法数。

**对于第一种纯完全背包问题，到底是先循环物品还是先循环背包，是无所谓的。**因此这种问题要的是一个最大的和，对于这个和到底是怎么组成的不关心（比如：4 到底是 1+3 得到的，还是 3 + 1得到的，是无所谓）

**对于第二种求组成方法数，先循环物品还是先循环背包是有区别的：**

1. 如果**先循环物品，再先循环背包**。那么求得的是不同方法的**组合**
2. 如果**先循环背包，再先循环物品**。那么求得的是不同方法的**排列**

至于组合和排列的区别，可以看下面的例子：

**[1,1,2] 和 [1,2,1] 以及 [2,1,1] 这三个子数组。对于组合问题这三个就是同一种答案；但是对于排列问题这三个就是三种不同的答案。**