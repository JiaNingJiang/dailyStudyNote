## 一、一对多表的删除

一对多表的删除可以分为两种情况：

- 删除子表的某一行或几行数据，此时可以直接删除，因为对父表没有影响
- 删除父表的某一行或几行数据，此时不可以直接删除父表行数据，因为子表的数据通过外键连接到父表，因此需要使用特殊的删除方式

删除父表数据，可以采用以下两种方式：

方式一：删除父表数据的同时，将子表与其关联的数据也一并删除，即"级联删除"

方式二：先取消与待删除父表数据相关联的子表数据之间的外键关系，将子表对应行的外键设置为`null`之后再删除父表数据

## 二、级联删除

```go
// 级联删除，删除用户，与用户关联的文章也一并删除
var user User
db.Take(&user, 1)
db.Select("Articles").Delete(&user)
```

## 三、清除外键关系

```go
// 清除外键关系，删除用户，与将与用户关联的文章，外键设置为null
user = User{}
db.Preload("Articles").Take(&user, 2)
db.Model(&user).Association("Articles").Delete(&user.Articles)
db.Delete(&user)
```

