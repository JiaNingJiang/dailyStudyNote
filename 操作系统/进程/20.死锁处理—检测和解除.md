![image-20231226215516963](20.死锁处理—检测和解除.assets/image-20231226215516963.png)

# 一、死锁的检测

![image-20231226215546408](20.死锁处理—检测和解除.assets/image-20231226215546408.png)

![image-20231226220156798](20.死锁处理—检测和解除.assets/image-20231226220156798.png)

因为P1不会被阻塞，因此把P1的边全部去掉。

<img src="20.死锁处理—检测和解除.assets/image-20231226220232753.png" alt="image-20231226220232753" style="zoom:50%;" />

P1边去掉后，发现P2也不再阻塞了，P2相关的边也都去掉。

![image-20231226220331351](20.死锁处理—检测和解除.assets/image-20231226220331351.png)

<img src="20.死锁处理—检测和解除.assets/image-20231226220343281.png" alt="image-20231226220343281" style="zoom:50%;" />

<img src="20.死锁处理—检测和解除.assets/image-20231226220355244.png" alt="image-20231226220355244" style="zoom:50%;" />

上述图的最终简化状态如下：

<img src="20.死锁处理—检测和解除.assets/image-20231226220425621.png" alt="image-20231226220425621" style="zoom:50%;" />

P1和P2相关的边无法消除，说明发生了死锁。

<img src="20.死锁处理—检测和解除.assets/image-20231226220515357.png" alt="image-20231226220515357" style="zoom:50%;" />

<img src="20.死锁处理—检测和解除.assets/image-20231226220559865.png" alt="image-20231226220559865" style="zoom:50%;" />

![image-20231226220618325](20.死锁处理—检测和解除.assets/image-20231226220618325.png)

# 二、死锁的解除

![image-20231226220652462](20.死锁处理—检测和解除.assets/image-20231226220652462.png)

# 三、总结

![image-20231226220703476](20.死锁处理—检测和解除.assets/image-20231226220703476.png)