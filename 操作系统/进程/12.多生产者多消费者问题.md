# 一、问题描述

![image-20231225224902621](12.多生产者多消费者问题.assets/image-20231225224902621.png)

![image-20231225224916877](12.多生产者多消费者问题.assets/image-20231225224916877.png)

# 二、问题分析

![image-20231225225017300](12.多生产者多消费者问题.assets/image-20231225225017300.png)

# 三、代码实现

![image-20231225225050102](12.多生产者多消费者问题.assets/image-20231225225050102.png)

特殊情况（缓冲区大小为1）分析：

![image-20231225225114515](12.多生产者多消费者问题.assets/image-20231225225114515.png)

![image-20231225225132350](12.多生产者多消费者问题.assets/image-20231225225132350.png)

缓冲区大小为2：

![image-20231225225221403](12.多生产者多消费者问题.assets/image-20231225225221403.png)

缓冲区大小为2，就必须设置互斥信号量，否则父亲和母亲可能同时访问缓冲区，可能导致修改缓冲区的同一位置，从而造成覆盖访问。

# 四、总结

![image-20231225225345681](12.多生产者多消费者问题.assets/image-20231225225345681.png)

![image-20231225225422398](12.多生产者多消费者问题.assets/image-20231225225422398.png)

