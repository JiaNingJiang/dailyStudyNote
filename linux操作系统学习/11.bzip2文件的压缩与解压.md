## 一、使用`bzip2`命令压缩文件

bzip2 命令同 gzip 命令类似，**但是对文件进行压缩（或解压缩）**，**不支持对文件的解压缩**。当执行压缩任务完成后，会生成一个**以“.bz2”为后缀的压缩包**。

".bz2"格式是 Linux 的另一种压缩格式，从理论上来讲，**".bz2"格式**的算法更先进、**压缩比更好**；而 **".gz"格式**相对来讲的**时间更快**。

bzip2 命令的基本格式如下：

```shell
[root@localhost ~]# bzip2 [选项] 源文件
```

源文件指的要压缩或解压缩的文件，该命令常用的选项及各自的含义如表 1 所示

| 选项  | 含义                                                         |
| ----- | ------------------------------------------------------------ |
| -d    | 执行**解压缩**，此时该选项后的**源文件应为标记有 .bz2 后缀的压缩包文件**。 |
| -k    | bzip2 在压缩或解压缩任务完成后，会删除原始文件，若要**保留原始文件，可使用此选项**。 |
| -f    | bzip2 在压缩或解压缩时，若**输出文件与现有文件同名**，默认不会覆盖现有文件，若使用此选项，则会**强制覆盖现有文件**。 |
| -t    | 测试压缩包文件的完整性。                                     |
| -v    | 压缩或解压缩文件时，显示详细信息。                           |
| -数字 | 这个参数和 gzip 命令的作用一样，用于指定压缩等级，-1 压缩等级最低，压缩比最差；-9 压缩比最高 |

注意，gzip 只是不会打包目录，但是如果使用“-r”选项，则可以分别压缩目录下的每个文件；而 **bzip2 命令则根本不支持压缩目录，也没有“-r”选项**。

### 1.1 直接压缩文件

```shell
[root@localhost ~]# bzip2 anaconda-ks.cfg
#压缩成".bz2"格式
```

此压缩命令会在**压缩的同时删除源文件**。

### 1.2 压缩的同时保留源文件

```shell
[root@localhost ~]# bzip2 -k install.log.syslog
#压缩
[root@localhost ~]# ls
anaconda-ks.cfg.bz2 install.loginstalLlogsyslog install.logsyslogbz2
#压缩文件和源文件都存在
```

### 1.3 解压`.bz2`压缩包

```shell
bzip2 -d 压缩包名
```

## 二、使用`bunzip2`命令解压文件

bunzip2 命令的使用和 gunzip 命令大致相同，**bunzip2 命令只能用于解压文件**，即便**解压目录，也是解压该目录以及所含子目录下的所有文件**。

bunzip2 命令的基本格式为：

```shell
[root@localhost ~]# bunzip2 [选项] 源文件
```

| 选项 | 含义                                                         |
| ---- | ------------------------------------------------------------ |
| -k   | 解压缩后，默认会删除原来的压缩文件。若要**保留压缩文件，需使用此参数**。 |
| -f   | 解压缩时，若输**出的文件与现有文件同名**时，默认不会覆盖现有的文件。若要**覆盖，可使用此选项**。 |
| -v   | 显示命令执行过程。                                           |
| -L   | 列出压缩文件内容。                                           |

### 2.1 解压

解压`.bz`压缩包可以使用以下两条命令中的任何一条：

```shell
[root@localhost ~]# bunzip2 anaconda-ks.cfg.bz2
```

```shell
[root@localhost ~]# bzip2 -d install.log.syslog.bz2
```

和 ".gz" 格式一样，".bz2" 格式**压缩的纯文本文件**也**可以不解压缩直接查看**，使用的**命令是 bzcat**。例如：

```shell
[root@localhost ~]# bzcat install.log.syslog.bz2
```

